import{u as B,J as e,i as D,n as M,o as O,A as b,d as J,l as L}from"./CesiumContainer.8bf85315.js";import{d as N,aa as U,o as $}from"./index.e6f579bd.js";const Z=N({setup(E){return B(async n=>{n.clock.shouldAnimate=!0;const c=30,C="path",z=[115.32415,36.157965,88.5],x=[115.452157,36.0943875,76.33],m=e.now(),f=e.toIso8601(m),k=e.toDate(m).getTime(),S=e.addSeconds(m,c,new e),y=e.toIso8601(S),A=e.toDate(S).getTime(),I=[{id:"document",name:"CZML Path",version:"1.0",clock:{interval:`${f}/${y}`,currentTime:f,multiplier:-5,range:"UNBOUNDED"}},{id:C,name:"A czml path",path:{material:{solidColor:{color:{rgba:[255,0,0,255]}}},width:8,leadTime:10,trailTime:10,resolution:5},point:{color:{rgba:[255,255,255,255]},pixelSize:20},position:{epoch:f,cartographicDegrees:[0,...z,c,...x]}}];n.camera.setView({destination:new D(-2216967897895651e-9,4670068057300466e-9,3.7394677760569644e6),orientation:{up:new D(-.03622449844129105,-.08136874107458908,.9960255587526926),direction:new D(.3888840924668125,-.9192680097065957,-.060954810772718575)}});const _=await M.load(I);_.loop={start:k,end:A,duration:c*1e3},n.dataSources.add(_),n.dataSourceDisplay.update=function(s){if(O.defined("time",s),!b.initialized)return this._ready=!1,!1;let t=!0;const l=e.toDate(s).getTime();let d,a,u,o,p,w=this._dataSourceCollection,v=w.length;for(d=0;d<v;d++){let i=w.get(d);if(J(i.update)&&(t=i.update(s)&&t),u=s,i.loop){const{start:h,end:g,duration:T}=i.loop;if(l>g){const r=new Date;r.setTime((l-h)%T+h),u=e.fromDate(r,new e)}else if(l<h){const r=new Date;r.setTime((l-g)%T+g),u=e.fromDate(r,new e)}}for(o=i._visualizers,p=o.length,a=0;a<p;a++)t=o[a].update(u)&&t}for(o=this._defaultDataSource._visualizers,p=o.length,a=0;a<p;a++)t=o[a].update(s)&&t;return this._ready=t,t}}),(n,c)=>($(),U(L))}});export{Z as default};
