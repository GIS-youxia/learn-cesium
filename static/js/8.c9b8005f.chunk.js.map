{"version":3,"sources":["hooks/useCesium.js","../node_modules/cesium/Source/Core sync ///cesium//cesium//Source//Core//buildModuleUrl/.js","cases/components/CesiumContainer/CesiumContainer.jsx","cases/components/Toolbar/Toolbar.jsx","cases/Analysis/Buffer.jsx"],"names":["useCesium","callback","viewerRef","useRef","useEffect","viewer","Viewer","fullscreenElement","scene","debugShowFramesPerSecond","postProcessStages","fxaa","enabled","createViewer","current","destroy","webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","CesiumContainer","children","Toolbar","className","formDefaultValue","radius","Buffer","useState","formValue","setFormValue","active","setActive","clock","shouldAnimate","screenSpaceEventHandler","setInputAction","movement","console","log","ScreenSpaceEventType","LEFT_CLICK","MOUSE_MOVE","RIGHT_CLICK","changeActive","entities","removeAll","onChange","formvalue","style","width","Group","marginBottom","ControlLabel","Control","name","accepter","InputNumber","size","min","step","xs","appearance","type","block","onClick","display","includes","color"],"mappings":"4KAAA,oBAgDeA,IA/Bf,SAAmBC,GACjB,IAAMC,EAAYC,iBAAO,MAgBzB,OAfAC,qBAAU,WACR,IAAMC,EAiBV,WACE,IAAMA,EAAS,IAAIC,IAAO,kBAAmB,CAC3CC,kBAAmB,oBAMrB,OAHAF,EAAOG,MAAMC,0BAA2B,EACxCJ,EAAOG,MAAME,kBAAkBC,KAAKC,SAAU,EAEvCP,EAzBUQ,GAKf,OAJAX,EAAUY,QAAUT,EAEpBJ,GAAYA,EAASI,GAEd,WACL,IACEA,EAAOU,UACP,cAIH,IAEIb,I,kBClCT,SAASc,EAAoBC,GAC5B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBF,EAAM,KAEjD,MADAC,EAAEE,KAAO,mBACHF,EAEPF,EAAoBK,KAAO,WAAa,MAAO,IAC/CL,EAAoBM,QAAUN,EAC9BO,EAAOC,QAAUR,EACjBA,EAAoBS,GAAK,K,wECRzB,yBAMeC,UAJf,YAAwC,IAAbC,EAAY,EAAZA,SACzB,OAAO,qBAAKF,GAAG,kBAAR,SAA2BE,M,gCCHpC,yBAMeC,UAJf,YAAgC,IAAbD,EAAY,EAAZA,SACjB,OAAO,qBAAKE,UAAU,UAAf,SAA0BF,M,yJCI7BG,EAAmB,CAAEC,OAAQ,KAgFpBC,UA7Ef,WACE,MAAkCC,mBAASH,GAA3C,mBAAOI,EAAP,KAAkBC,EAAlB,KACA,EAA4BF,mBAAS,GAArC,mBAAOG,EAAP,KAAeC,EAAf,KACMnC,EAAYF,aAAU,SAAAK,GAC1BA,EAAOiC,MAAMC,eAAgB,EAC7BlC,EAAOG,MAAME,kBAAkBC,KAAKC,SAAU,EAE9CP,EAAOmC,wBAAwBC,gBAAe,SAAAC,GAC5CC,QAAQC,IAAIR,KACXS,IAAqBC,YAExBzC,EAAOmC,wBAAwBC,gBAAe,SAAAC,MAAgBG,IAAqBE,YAEnF1C,EAAOmC,wBAAwBC,gBAAe,SAAAC,MAAgBG,IAAqBG,gBAGrF,SAASC,EAAab,GACpB,IAAM/B,EAASH,EAAUY,QACpBT,IAELA,EAAO6C,SAASC,YAChBd,EAAUD,IAGZ,OACE,cAAC,UAAD,UACE,cAAC,UAAD,UACE,eAAC,IAAD,CACEF,UAAWA,EACXkB,SAAU,SAAAC,GAAS,OAAIlB,EAAa,eAAKkB,KACzCvB,iBAAkBA,EAClBwB,MAAO,CAAEC,MAjCD,KA6BV,UAME,eAAC,IAAKC,MAAN,CAAYF,MAAO,CAAEG,aAAc,IAAnC,UACE,cAAC,IAAKC,aAAN,sBACA,cAAC,IAAKC,QAAN,CACEL,MAAO,CAAEC,MAtCL,KAuCJK,KAAK,SACLC,SAAUC,IACVC,KAAK,KACLC,IAAK,EACLC,KAAM,QAGV,eAAC,IAAD,CAAKX,MAAO,CAAEG,aAAc,IAA5B,UACE,cAAC,IAAD,CAAKS,GAAI,EAAT,SACE,cAAC,IAAD,CACEC,WAAW,UACXC,KAAK,SACLL,KAAK,KACLM,OAAK,EACLC,QAAS,kBAAMrB,EAAa,IAL9B,qBAUF,cAAC,IAAD,CAAKiB,GAAI,EAAT,SACE,cAAC,IAAD,CAAQE,KAAK,SAASL,KAAK,KAAKM,OAAK,EAACC,QAAS,kBAAMrB,EAAa,IAAlE,wBAIF,cAAC,IAAD,CAAKiB,GAAI,EAAT,SACE,cAAC,IAAD,CAAQE,KAAK,SAASL,KAAK,KAAKM,OAAK,EAACC,QAAS,kBAAMrB,EAAa,IAAlE,0BAKJ,qBAAIK,MAAO,CAAEiB,QAAS,CAAC,EAAG,GAAGC,SAASpC,GAAU,QAAU,IAA1D,2BACgB,mBAAGkB,MAAO,CAAEmB,MAAO,UAAnB,gCADhB,mBACsF,IACpF,mBAAGnB,MAAO,CAAEmB,MAAO,UAAnB,qCAFF","file":"static/js/8.c9b8005f.chunk.js","sourcesContent":["import { useEffect, useRef } from 'react'\nimport { Viewer } from 'cesium'\n\n/**\n * @callback CesiumHandler\n *\n * @param {Viewer} viewer Viewer instance.\n */\n\n/** @typedef {import('react')} React */\n\n/**\n * Use cesium hook.\n *\n * @param {CesiumHandler} callback\n * @returns {React.MutableRefObject.<null|Viewer>}\n */\nfunction useCesium(callback) {\n  const viewerRef = useRef(null)\n  useEffect(() => {\n    const viewer = createViewer()\n    viewerRef.current = viewer\n\n    callback && callback(viewer)\n\n    return () => {\n      try {\n        viewer.destroy()\n      } catch {}\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return viewerRef\n}\n\nfunction createViewer() {\n  const viewer = new Viewer('cesiumContainer', {\n    fullscreenElement: 'cesiumContainer'\n  })\n\n  viewer.scene.debugShowFramesPerSecond = true\n  viewer.scene.postProcessStages.fxaa.enabled = true\n\n  return viewer\n}\n\nexport default useCesium\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 190;","import './CesiumContainer.less'\n\nfunction CesiumContainer({ children }) {\n  return <div id=\"cesiumContainer\">{children}</div>\n}\n\nexport default CesiumContainer\n","import './Toolbar.less'\n\nfunction Toolbar({ children }) {\n  return <div className=\"toolbar\">{children}</div>\n}\n\nexport default Toolbar\n","import CesiumContainer from '@/cases/components/CesiumContainer/CesiumContainer'\nimport Toolbar from '@/cases/components/Toolbar/Toolbar'\nimport useCesium from '@/hooks/useCesium'\nimport { ScreenSpaceEventType } from 'cesium'\nimport { Form, InputNumber, Button, Row, Col } from 'rsuite'\nimport { useState } from 'react'\n\nconst formDefaultValue = { radius: 100 }\nconst formWidth = 240\n\nfunction Buffer() {\n  const [formValue, setFormValue] = useState(formDefaultValue)\n  const [active, setActive] = useState(0)\n  const viewerRef = useCesium(viewer => {\n    viewer.clock.shouldAnimate = true\n    viewer.scene.postProcessStages.fxaa.enabled = true\n\n    viewer.screenSpaceEventHandler.setInputAction(movement => {\n      console.log(active)\n    }, ScreenSpaceEventType.LEFT_CLICK)\n\n    viewer.screenSpaceEventHandler.setInputAction(movement => {}, ScreenSpaceEventType.MOUSE_MOVE)\n\n    viewer.screenSpaceEventHandler.setInputAction(movement => {}, ScreenSpaceEventType.RIGHT_CLICK)\n  })\n\n  function changeActive(active) {\n    const viewer = viewerRef.current\n    if (!viewer) return\n\n    viewer.entities.removeAll()\n    setActive(active)\n  }\n\n  return (\n    <CesiumContainer>\n      <Toolbar>\n        <Form\n          formValue={formValue}\n          onChange={formvalue => setFormValue({ ...formvalue })}\n          formDefaultValue={formDefaultValue}\n          style={{ width: formWidth }}\n        >\n          <Form.Group style={{ marginBottom: 10 }}>\n            <Form.ControlLabel>radius:</Form.ControlLabel>\n            <Form.Control\n              style={{ width: formWidth }}\n              name=\"radius\"\n              accepter={InputNumber}\n              size=\"sm\"\n              min={0}\n              step={10}\n            />\n          </Form.Group>\n          <Row style={{ marginBottom: 10 }}>\n            <Col xs={8}>\n              <Button\n                appearance=\"primary\"\n                type=\"submit\"\n                size=\"sm\"\n                block\n                onClick={() => changeActive(0)}\n              >\n                Point\n              </Button>\n            </Col>\n            <Col xs={8}>\n              <Button type=\"button\" size=\"sm\" block onClick={() => changeActive(1)}>\n                Polyline\n              </Button>\n            </Col>\n            <Col xs={8}>\n              <Button type=\"button\" size=\"sm\" block onClick={() => changeActive(2)}>\n                Polygon\n              </Button>\n            </Col>\n          </Row>\n          <em style={{ display: [1, 2].includes(active) ? 'block' : '' }}>\n            Left click to <b style={{ color: 'orange' }}>set position point</b>, right click to{' '}\n            <b style={{ color: 'orange' }}>draw the buffer graphic</b>.\n          </em>\n        </Form>\n      </Toolbar>\n    </CesiumContainer>\n  )\n}\n\nexport default Buffer\n"],"sourceRoot":""}