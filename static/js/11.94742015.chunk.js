(this["webpackJsonplearn-cesium"]=this["webpackJsonplearn-cesium"]||[]).push([[11],{68:function(e,t,n){"use strict";n.r(t);var a,i=n(85),r=n(86),o=n(87),s=n(88),c=n(11),l=n(84),h=n(23),d=(a=l.b.Cartesian3).fromDegrees.apply(a,[-117,36,2e3]),u=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).resetCamera=function(){e.viewer.camera.flyTo({destination:d,orientation:{heading:l.b.Math.toRadians(0),pitch:l.b.Math.toRadians(0),roll:l.b.Math.toRadians(0)}})},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},e.createRandomPointAndFlyTo=function(){var t=300,n=e.getRandomIntInclusive(-t,t),a=e.getRandomIntInclusive(-t,t),i=e.getNewPosition(d,0,n,a);e.createPoint(i.Cartesian3,l.b.Color.BLUE);var r=i.prev,o=i.next,s=e.getHeadingPitchRoll(r,o);console.log({x:0,y:n,z:a},s),e.viewer.camera.flyTo({destination:d,orientation:{heading:l.b.Math.toRadians(s.heading),pitch:l.b.Math.toRadians(s.pitch),roll:l.b.Math.toRadians(s.roll)}})},e.getHeadingPitchRoll=function(t,n){var a=t.x,i=t.y,r=t.z,o=n.x,s=n.y,c=n.z,l=e.getHeadingDegree(a,i,o,s),h=e.getPitchDegree(i,r,s,c),d=h%360,u=d>0,b=Math.abs(d);return console.log("p",h),b>90&&(h=(180-b)*(u?1:-1)),{heading:l,pitch:h,roll:0}},e.getHeadingDegree=function(e,t,n,a){var i=n-e,r=a-t;if(0===i&&0===r)return 0;if(0===i)return a>t?0:180;if(0===r)return n>e?90:270;var o=Math.atan(i/r)/Math.PI*180;return r<0&&(o+=i<0?-180:180),o},e.getPitchDegree=function(e,t,n,a){var i=a-t,r=n-e;if(0===i&&0===r)return 0;if(0===i)return n>e?0:180;if(0===r)return a>t?90:270;var o=Math.atan(i/r)/Math.PI*180;return r<0&&(o+=i<0?-180:180),o},e.createPoint=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.b.Color.RED;return e.entities.add({position:t,ellipsoid:{radii:new l.b.Cartesian3(10,10,10),material:n}})},e.getNewPosition=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=l.b.Transforms.eastNorthUpToFixedFrame(e),r=l.b.Matrix4.inverse(i,new l.b.Matrix4),o=l.b.Matrix4.multiplyByPoint(r,e,new l.b.Cartesian3),s=l.b.clone(o,!0);return s.x+=t,s.y+=n,s.z+=a,{Cartesian3:l.b.Matrix4.multiplyByPoint(i,s,new l.b.Cartesian3),prev:o,next:s}},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.viewer=new l.b.Viewer("stage",{shadows:!0,shouldAnimate:!0}),this.scene=this.viewer.scene,this.entities=this.viewer.entities,this.scene.debugShowFramesPerSecond=!0,this.scene.globe.depthTestAgainstTerrain=!0,Object(l.a)(this.viewer,{}),this.createPoint(d,l.b.Color.WHITE)}},{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"toolbar",children:[Object(h.jsx)("button",{className:"vtb",onClick:this.createRandomPointAndFlyTo,children:"Create Random Point"}),Object(h.jsx)("button",{className:"vtb",onClick:this.resetCamera,children:"Reset Camera"})]}),Object(h.jsx)("div",{id:"stage"})]})}}]),n}(c.Component);t.default=u}}]);