(this["webpackJsonplearn-cesium"]=this["webpackJsonplearn-cesium"]||[]).push([[11,14],{140:function(e,t,a){"use strict";a.r(t),a.d(t,"positions",(function(){return o}));for(var n=a(46),i=a.p+"static/media/CesiumMilkTruck.a9e6f54e.glb",r=a(98),o=[[-75.59685701983534,40.03777212564437,0],[-75.59751284840819,40.037625784396035,0],[-75.59752436893649,40.03762521293061,0],[-75.59753556564439,40.0376272278541,0],[-75.59755235855748,40.03763093311733,0],[-75.59756354026823,40.03763717624739,0],[-75.59757299408281,40.03764388127161,0],[-75.59758417874735,40.037654826771465,0],[-75.59759281350301,40.03766684520388,0],[-75.59767412977382,40.03784933701905,0]],s=0,c=0,l=[],u=[],d=[],p=[],b=1;b<o.length;++b){var h,v,m=(h=r.b.Cartesian3).fromDegrees.apply(h,Object(n.a)(o[b-1])),f=(v=r.b.Cartesian3).fromDegrees.apply(v,Object(n.a)(o[b])),g=r.b.Cartesian3.distance(m,f);s+=g,l.push(g);var w=N(m,f),y=A(w.prev,w.next),T=r.b.Transforms.headingPitchRollQuaternion(m,new r.b.HeadingPitchRoll(r.b.Math.toRadians(y+-90),r.b.Math.toRadians(0),r.b.Math.toRadians(0)));u.push(T)}for(var C=0;C<o.length;C++){var M=u[C]||{},j=M.x,x=M.y,D=M.z,k=M.w;if(0!==C){var O=l[C-1]/s*30;c+=O,d.push.apply(d,[c].concat(Object(n.a)(o[C])));var S=u[C-1],E=S.x,I=S.y,L=S.z,P=S.w;p.push(O>=.5?c-.5:c,E,I,L,P),C===o.length-1?p.push(c,E,I,L,P):p.push(c,j,x,D,k)}else d.push.apply(d,[0].concat(Object(n.a)(o[0]))),p.push(0,j,x,D,k)}var R=r.b.JulianDate.now(),H=r.b.JulianDate.addSeconds(R,30,new r.b.JulianDate),J=r.b.JulianDate.toIso8601(R),B=r.b.JulianDate.toIso8601(H),F=[{id:"document",version:"1.0",clock:{interval:"".concat(J,"/").concat(B),currentTime:J,multiplier:1,range:"UNBOUNDED"}},{id:"CesiumMilkTruck",availability:"".concat(J,"/").concat(B),model:{gltf:i},position:{epoch:J,cartographicDegrees:d},orientation:{epoch:J,unitQuaternion:p}}];function N(e,t){var a=r.b.Transforms.eastNorthUpToFixedFrame(e),n=r.b.Matrix4.inverse(a,new r.b.Matrix4);return{prev:r.b.Matrix4.multiplyByPoint(n,e,new r.b.Cartesian3),next:r.b.Matrix4.multiplyByPoint(n,t,new r.b.Cartesian3)}}function A(e,t){var a=e.x,n=e.y,i=t.x,r=t.y,o=i-a,s=r-n;if(0===o)return s>=0?0:180;if(0===s)return o>0?90:-90;var c=(i-a)/(r-n),l=Math.atan(c)/Math.PI*180;if(s>0)return l;var u=i-a>0?1:-1;return(180-Math.abs(l))*u}console.log(F);t.default=F},143:function(e,t,a){"use strict";a.r(t);a(289);var n=a(290),i=a.n(n),r=a(46),o=a(11),s=a.n(o),c=a(14),l=a(16),u=a(19),d=a(28),p=a(29),b=a(13),h=a(98),v=a(140),m=a(34),f=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={disabled:!0},e.loadCZML=Object(c.a)(s.a.mark((function t(){var a,n,i,r,o,c,l,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.viewer,n=a.scene,i=a.dataSources,r=a.clock,e.ds&&i.remove(e.ds),t.next=4,i.add(h.b.CzmlDataSource.load(v.default));case 4:e.ds=t.sent,o=e.ds.entities.getById("CesiumMilkTruck"),c=o.position,e.viewer.trackedEntity=o,e.viewer.camera.moveBackward(3e3),l=[o],u=function e(){var t=c.getValue(r.currentTime);t?o.position=n.clampToHeight(t,l):n.postRender.removeEventListener(e)},n.postRender.addEventListener(u);case 12:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.viewer=new h.b.Viewer("stage",{terrainProvider:h.b.createWorldTerrain(),shouldAnimate:!0}),Object(h.a)(this.viewer,{});var t=this.viewer,a=t.scene,n=t.camera,i=t.screenSpaceEventHandler;a.postProcessStages.fxaa.enabled=!0,a.debugShowFramesPerSecond=!0;var o=a.primitives.add(new h.b.Cesium3DTileset({url:h.b.IonResource.fromAssetId(40866)}));n.setView({destination:new h.b.Cartesian3(1216403.8845586285,-4736357.493351395,4081299.715698949),orientation:new h.b.HeadingPitchRoll(4.2892217081808806,-.4799070147502502,6.279789177843313),endTransform:h.b.Matrix4.IDENTITY}),this.viewer.entities.add({polyline:{positions:v.positions.map((function(e){var t;return(t=h.b.Cartesian3).fromDegrees.apply(t,Object(r.a)(e))})),classificationType:h.b.ClassificationType.BOTH,width:10,material:h.b.Color.RED,clampToGround:!0}}),a.clampToHeightSupported?o.initialTilesLoaded.addEventListener((function(){e.setState({disabled:!1})})):window.alert("This browser does not support clampToHeight."),i.setInputAction((function(e){var t=a.pickPosition(e.position);if(t){var n=h.b.Cartographic.fromCartesian(t);console.log(h.b.Math.toDegrees(n.longitude)),console.log(h.b.Math.toDegrees(n.latitude))}}),h.b.ScreenSpaceEventType.LEFT_CLICK)}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"toolbar",children:Object(m.jsx)(i.a,{type:"primary",onClick:this.loadCZML,disabled:this.state.disabled,children:"Load CZML"})}),Object(m.jsx)("div",{id:"stage"})]})}}]),a}(b.Component);t.default=f}}]);