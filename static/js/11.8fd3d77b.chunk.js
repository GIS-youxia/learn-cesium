(this["webpackJsonplearn-cesium"]=this["webpackJsonplearn-cesium"]||[]).push([[11],{140:function(e,t,a){"use strict";a.r(t),a.d(t,"positions",(function(){return c}));for(var n=a(46),i=a.p+"static/media/CesiumMilkTruck.a9e6f54e.glb",r=a(98),o=a(280),s=a.n(o),c=[[-75.59685701983534,40.03777212564437,0],[-75.59751284840819,40.037625784396035,0],[-75.59752436893649,40.03762521293061,0],[-75.59753556564439,40.0376272278541,0],[-75.59755235855748,40.03763093311733,0],[-75.59756354026823,40.03763717624739,0],[-75.59757299408281,40.03764388127161,0],[-75.59758417874735,40.037654826771465,0],[-75.59759281350301,40.03766684520388,0],[-75.59767412977382,40.03784933701905,0]],l=0,d=0,u=[],p=[],b=[],h=[],v=1;v<c.length;++v){var m,f,g=(m=r.b.Cartesian3).fromDegrees.apply(m,Object(n.a)(c[v-1])),w=(f=r.b.Cartesian3).fromDegrees.apply(f,Object(n.a)(c[v])),y=r.b.Cartesian3.distance(g,w);l+=y,u.push(y);var T=U(g,w),C=V(T.prev,T.next),M=r.b.Transforms.headingPitchRollQuaternion(g,new r.b.HeadingPitchRoll(r.b.Math.toRadians(C+-90),r.b.Math.toRadians(0),r.b.Math.toRadians(0)));p.push(M)}for(var j=0;j<c.length;j++){var x=p[j]||{},O=x.x,k=x.y,S=x.z,D=x.w;if(0!==j){var I=u[j-1]/l*30;d+=I,b.push.apply(b,[d].concat(Object(n.a)(c[j])));var L=p[j-1],P=L.x,R=L.y,E=L.z,H=L.w;h.push(I>=.5?d-.5:d,P,R,E,H),j===c.length-1?h.push(d,P,R,E,H):h.push(d,O,k,S,D)}else b.push.apply(b,[0].concat(Object(n.a)(c[0]))),h.push(0,O,k,S,D)}var B=s()(),F=B.add(30,"s"),N=B.toISOString(),A=F.toISOString(),z=[{id:"document",version:"1.0",clock:{interval:"".concat(N,"/").concat(A),currentTime:N,multiplier:1,range:"UNBOUNDED"}},{id:"CesiumMilkTruck",availability:"".concat(N,"/").concat(A),model:{gltf:i},position:{epoch:N,cartographicDegrees:b},orientation:{epoch:N,unitQuaternion:h}}];function U(e,t){var a=r.b.Transforms.eastNorthUpToFixedFrame(e),n=r.b.Matrix4.inverse(a,new r.b.Matrix4);return{prev:r.b.Matrix4.multiplyByPoint(n,e,new r.b.Cartesian3),next:r.b.Matrix4.multiplyByPoint(n,t,new r.b.Cartesian3)}}function V(e,t){var a=e.x,n=e.y,i=t.x,r=t.y,o=i-a,s=r-n;if(0===o)return s>=0?0:180;if(0===s)return o>0?90:-90;var c=(i-a)/(r-n),l=Math.atan(c)/Math.PI*180;if(s>0)return l;var d=i-a>0?1:-1;return(180-Math.abs(l))*d}console.log(z);t.default=z},143:function(e,t,a){"use strict";a.r(t);a(289);var n=a(290),i=a.n(n),r=a(46),o=a(11),s=a.n(o),c=a(14),l=a(16),d=a(19),u=a(28),p=a(29),b=a(13),h=a(98),v=a(140),m=a(34),f=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={disabled:!0},e.loadCZML=Object(c.a)(s.a.mark((function t(){var a,n,i,r,o,c,l,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.viewer,n=a.scene,i=a.dataSources,r=a.clock,e.ds&&i.remove(e.ds),t.next=4,i.add(h.b.CzmlDataSource.load(v.default));case 4:e.ds=t.sent,o=e.ds.entities.getById("CesiumMilkTruck"),c=o.position,l=[o],d=function e(){var t=c.getValue(r.currentTime);t?o.position=n.clampToHeight(t,l):n.postRender.removeEventListener(e)},n.postRender.addEventListener(d);case 10:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.viewer=new h.b.Viewer("stage",{terrainProvider:h.b.createWorldTerrain(),shouldAnimate:!0}),Object(h.a)(this.viewer,{});var t=this.viewer,a=t.scene,n=t.camera,i=t.screenSpaceEventHandler;a.postProcessStages.fxaa.enabled=!0,a.debugShowFramesPerSecond=!0;var o=a.primitives.add(new h.b.Cesium3DTileset({url:h.b.IonResource.fromAssetId(40866)}));n.setView({destination:new h.b.Cartesian3(1216403.8845586285,-4736357.493351395,4081299.715698949),orientation:new h.b.HeadingPitchRoll(4.2892217081808806,-.4799070147502502,6.279789177843313),endTransform:h.b.Matrix4.IDENTITY}),this.viewer.entities.add({polyline:{positions:v.positions.map((function(e){var t;return(t=h.b.Cartesian3).fromDegrees.apply(t,Object(r.a)(e))})),classificationType:h.b.ClassificationType.BOTH,width:10,material:h.b.Color.RED,clampToGround:!0}}),a.clampToHeightSupported?o.initialTilesLoaded.addEventListener((function(){e.setState({disabled:!1})})):window.alert("This browser does not support clampToHeight."),i.setInputAction((function(e){var t=a.pickPosition(e.position);if(t){var n=h.b.Cartographic.fromCartesian(t);console.log(h.b.Math.toDegrees(n.longitude)),console.log(h.b.Math.toDegrees(n.latitude))}}),h.b.ScreenSpaceEventType.LEFT_CLICK)}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"toolbar",children:Object(m.jsx)(i.a,{type:"primary",onClick:this.loadCZML,disabled:this.state.disabled,children:"Load CZML"})}),Object(m.jsx)("div",{id:"stage"})]})}}]),a}(b.Component);t.default=f}}]);