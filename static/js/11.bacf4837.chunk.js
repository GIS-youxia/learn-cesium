(this["webpackJsonplearn-cesium"]=this["webpackJsonplearn-cesium"]||[]).push([[11],{140:function(e,t,a){"use strict";a.r(t);for(var r=a(46),n=a.p+"static/media/CesiumMilkTruck.a9e6f54e.glb",i=a(98),s=a(280),o=a.n(s),c=[[-75.59682640355302,40.0377282591004,30],[-75.59721134830173,40.037671211919225,30],[-75.59747878476885,40.037898069427314,30],[-75.59700518759936,40.03799476320532,30]],l=0,d=0,u=[],p=[],b=[],h=[],v=1;v<c.length;++v){var m,f,g=(m=i.b.Cartesian3).fromDegrees.apply(m,Object(r.a)(c[v-1])),w=(f=i.b.Cartesian3).fromDegrees.apply(f,Object(r.a)(c[v])),y=i.b.Cartesian3.distance(g,w);l+=y,u.push(y);var C=z(g,w),M=U(C.prev,C.next),T=i.b.Transforms.headingPitchRollQuaternion(g,new i.b.HeadingPitchRoll(i.b.Math.toRadians(M+-90),i.b.Math.toRadians(0),i.b.Math.toRadians(0)));p.push(T)}for(var x=0;x<c.length;x++){var j=p[x]||{},O=j.x,k=j.y,S=j.z,D=j.w;if(0!==x){if(d+=u[x-1]/l*60,b.push.apply(b,[d].concat(Object(r.a)(c[x]))),x===c.length-1)break;var I=p[x-1],L=I.x,P=I.y,R=I.z,E=I.w;h.push(d-2,L,P,R,E),h.push(d,O,k,S,D)}else b.push.apply(b,[0].concat(Object(r.a)(c[0]))),h.push(0,O,k,S,D)}var H=o()(),F=H.add(60,"s"),N=H.toISOString(),A=F.toISOString(),B=[{id:"document",version:"1.0",clock:{interval:"".concat(N,"/").concat(A),currentTime:N,multiplier:3,range:"UNBOUNDED"}},{id:"CesiumMilkTruck",availability:"".concat(N,"/").concat(A),model:{gltf:n},position:{epoch:N,cartographicDegrees:b},orientation:{epoch:N,unitQuaternion:h}}];function z(e,t){var a=i.b.Transforms.eastNorthUpToFixedFrame(e),r=i.b.Matrix4.inverse(a,new i.b.Matrix4);return{prev:i.b.Matrix4.multiplyByPoint(r,e,new i.b.Cartesian3),next:i.b.Matrix4.multiplyByPoint(r,t,new i.b.Cartesian3)}}function U(e,t){var a=e.x,r=e.y,n=t.x,i=t.y,s=n-a,o=i-r;if(0===s)return o>=0?0:180;if(0===o)return s>0?90:-90;var c=(n-a)/(i-r),l=Math.atan(c)/Math.PI*180;if(o>0)return l;var d=n-a>0?1:-1;return(180-Math.abs(l))*d}t.default=B},143:function(e,t,a){"use strict";a.r(t);a(289);var r=a(290),n=a.n(r),i=a(11),s=a.n(i),o=a(14),c=a(16),l=a(19),d=a(28),u=a(29),p=a(13),b=a(98),h=a(140),v=a(34),m=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={disabled:!0},e.loadCZML=Object(o.a)(s.a.mark((function t(){var a,r,n,i,o,c,l,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.viewer,r=a.scene,n=a.dataSources,i=a.clock,e.ds&&n.remove(e.ds),t.next=4,n.add(b.b.CzmlDataSource.load(h.default));case 4:e.ds=t.sent,o=e.ds.entities.getById("CesiumMilkTruck"),c=o.position,l=[o],d=function e(){var t=c.getValue(i.currentTime);t?o.position=r.clampToHeight(t,l):r.postRender.removeEventListener(e)},r.postRender.addEventListener(d);case 10:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.viewer=new b.b.Viewer("stage",{terrainProvider:b.b.createWorldTerrain(),shouldAnimate:!0}),Object(b.a)(this.viewer,{});var t=this.viewer,a=t.scene,r=t.camera,n=t.screenSpaceEventHandler;a.postProcessStages.fxaa.enabled=!0,a.debugShowFramesPerSecond=!0;var i=a.primitives.add(new b.b.Cesium3DTileset({url:b.b.IonResource.fromAssetId(40866)}));r.setView({destination:new b.b.Cartesian3(1216403.8845586285,-4736357.493351395,4081299.715698949),orientation:new b.b.HeadingPitchRoll(4.2892217081808806,-.4799070147502502,6.279789177843313),endTransform:b.b.Matrix4.IDENTITY}),a.clampToHeightSupported?i.initialTilesLoaded.addEventListener((function(){return e.setState({disabled:!1})})):window.alert("This browser does not support clampToHeight."),n.setInputAction((function(e){var t=a.pickPosition(e.position),r=b.b.Cartographic.fromCartesian(t);console.log(b.b.Math.toDegrees(r.longitude)),console.log(b.b.Math.toDegrees(r.latitude))}),b.b.ScreenSpaceEventType.LEFT_CLICK)}},{key:"render",value:function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"toolbar",children:Object(v.jsx)(n.a,{type:"primary",onClick:this.loadCZML,disabled:this.state.disabled,children:"Load CZML"})}),Object(v.jsx)("div",{id:"stage"})]})}}]),a}(p.Component);t.default=m}}]);