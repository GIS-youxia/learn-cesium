import{u as l,l as u,n as m,t as p,s as f,i as g,c as i,v as _,w as h}from"./CesiumContainer.cea121d4.js";import{c as $}from"./createOsmBuildings.67fd2475.js";import{T as C}from"./Toolbar.f346b6a7.js";import{c as y}from"./colorBuildingFS.5985125e.js";import{d as S,aa as T,w as n,o as b,a as k,f as B}from"./index.e3a1b4d7.js";const E=B("Click a building to set it as center of heat zone."),M=S({setup(P){l(t=>{t.terrainProvider=m();const o=$();t.scene.primitives.add(o),o.colorBlendMode=p.REPLACE,o.style=r(),t.scene.camera.setView({destination:g.fromDegrees(-122.3472,47.598,370),orientation:{heading:i.toRadians(10),pitch:i.toRadians(-10)}}),o.tileVisible.addEventListener(a=>{const{content:s}=a,{_model:e}=s;e&&e._sourcePrograms&&e._rendererResources&&(Object.keys(e._sourcePrograms).forEach(c=>{const d=e._sourcePrograms[c];e._rendererResources.sourceShaders[d.fragmentShader]=y}),e._shouldRegenerateShaders=!0)}),new _(t.canvas).setInputAction(a=>{t.selectedEntity=void 0;const s=t.scene.pick(a.position);if(s){const e=s.getProperty("cesium#latitude"),c=s.getProperty("cesium#longitude");e&&c&&(o.style=r(c,e))}},h.LEFT_CLICK)});function r(t=-122.33317436409693,o=47.608251670406524){return new f({defines:{height:'${feature["cesium#estimatedHeight"]}',distance:`distance(vec2(\${feature['cesium#longitude']}, \${feature['cesium#latitude']}), vec2(${t}, ${o}))`},color:{conditions:[["${distance} < 0.001",'color("#fd3215")'],["${distance} < 0.002",'color("#d95612")'],["${distance} < 0.003",'color("#b25632")'],["${distance} < 0.005",'color("#a67325")'],["${distance} < 0.008",'color("#969325")'],["${distance} < 0.01",'color("#76b205")'],["${distance} < 0.01",'color("#56c205")'],["${distance} < 0.015",'color("#31d315")'],["${distance} < 0.02",'color("#16ec37")'],["${distance} < 0.02",'color("#16cc77")'],["${distance} < 0.0275",'color("#159c92")'],["${distance} < 0.035",'color("#145bb5")']]}})}return(t,o)=>(b(),T(u,null,{default:n(()=>[k(C,null,{default:n(()=>[E]),_:1})]),_:1}))}});export{M as default};
